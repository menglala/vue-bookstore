{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/_object-gops.js","webpack:///./node_modules/babel-runtime/helpers/extends.js","webpack:///./node_modules/core-js/library/modules/_object-pie.js","webpack:///./node_modules/core-js/library/modules/es6.object.assign.js","webpack:///src/base/loading.vue","webpack:///./src/base/loading.vue?9b3c","webpack:///./src/base/loading.vue","webpack:///./node_modules/core-js/library/modules/_object-assign.js","webpack:///./node_modules/core-js/library/fn/object/assign.js","webpack:///src/components/list.vue","webpack:///./src/components/list.vue?93f4","webpack:///./src/components/list.vue","webpack:///./src/assets/loading-bar-scribble-animation-doodle-cartoon-4k_sdfqzybaux_thumbnail-full05.png","webpack:///./node_modules/babel-runtime/core-js/object/assign.js"],"names":["exports","f","Object","getOwnPropertySymbols","__esModule","obj","_assign","__webpack_require__","_assign2","default","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","propertyIsEnumerable","$export","S","F","assign","loading","name","props","isLoading","type","Boolean","base_loading","render","_h","this","$createElement","_c","_self","staticClass","attrs","src","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","getKeys","gOPS","pIE","toObject","IObject","$assign","module","A","B","Symbol","K","split","forEach","k","keys","join","T","aLen","index","getSymbols","isEnum","concat","j","list","components","storehead","data","books","offset","hasMore","load","created","getData","mounted","_this","drop","$refs","initTop","offsetTop","distance","addEventListener","e","startY","touches","pageY","flag","move","scrollTop","moveY","style","top","removeEventListener","end","clearInterval","timer","setInterval","console","log","methods","extends_default","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref","wrap","_context","prev","next","api","sent","toConsumableArray_default","stop","loadMove","_$refs$drop","scrollHeight","clientHeight","remove","id","filter","item","bookId","vuex_esm","mutation_types","add","book","filters","toFixed","price","param","watch","$route","components_list","_vm","_v","ref","on","scroll","_l","to","params","bid","tag","directives","rawName","value","expression","_s","bookName","bookInfo","_f","bookPrice","click","$event","stopPropagation","p"],"mappings":"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","file":"static/js/1.c5ebaf90cfdb65606cfd.js","sourcesContent":["exports.f = Object.getOwnPropertySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-gops.js\n// module id = 1kS7\n// module chunks = 1 3","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/extends.js\n// module id = Dd8w\n// module chunks = 1 3","exports.f = {}.propertyIsEnumerable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-pie.js\n// module id = NpIQ\n// module chunks = 1 3","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.assign.js\n// module id = R4wc\n// module chunks = 1 3","<template>\r\n  <img  class=\"loading\" src=\"../assets/loading-bar-scribble-animation-doodle-cartoon-4k_sdfqzybaux_thumbnail-full05.png\" v-if=\"isLoading\" >\r\n</template>\r\n\r\n\r\n<script>\r\n  export default {\r\n    name:'loading',\r\n    props:{isLoading:{type:Boolean, default:true }}\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.loading{width:100%;position: fixed;left: 0;top:40px;}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/base/loading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('img',{staticClass:\"loading\",attrs:{\"src\":require(\"../assets/loading-bar-scribble-animation-doodle-cartoon-4k_sdfqzybaux_thumbnail-full05.png\")}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-491619ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/loading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-491619ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./loading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./loading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-491619ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./loading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-491619ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/loading.vue\n// module id = null\n// module chunks = ","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-assign.js\n// module id = To3L\n// module chunks = 1 3","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/assign.js\n// module id = V3tA\n// module chunks = 1 3","<template>\n  <div class=\"box\">\n    <storehead :flag=\"true\">列表</storehead>\n    <div class=\"content\" ref=\"drop\" @scroll=\"loadMove\">\n      <!--这个元素没有高度撑不起来动画效果-->\n      <ul>\n        <router-link :to=\"{name:'detail',params:{bid:book.bookId}}\" v-for=\"(book,index) in books\" :key=\"index\" tag=\"li\">\n          <img v-lazy=\"book.bookCover\">\n          <div class=\"list-data\">\n            <h4>{{book.bookName}}</h4>\n            <span>{{book.bookInfo}}</span><br>\n            <strong>{{book.bookPrice|toFixed(2)}}</strong><br>\n            <i class=\"iconfont icon-shanchu\" @click.stop=\"remove(book.bookId)\"></i>\n            <i class=\"iconfont icon-shoucang\" @click.stop=\"add(book)\"></i>\n          </div>\n        </router-link>\n      </ul>\n      <p class=\"loadMove\" @click=\"getData\">加载更多</p>\n      <loading :isLoading=\"isLoading\"></loading>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport storehead from \"../base/storehead\";\nimport { pagination, removeBook } from \"../api\";\nimport vuex from \"vuex\";\nimport { mapMutations } from \"vuex\";\nimport * as Types from \"../store/mutation-types.js\";\nimport loading from \"../base/loading\";\n\nexport default {\n  name: \"list\",\n  components: {\n    storehead,\n    loading\n  },\n  data() {\n    return { books: [], isLoading: true, offset: 0, hasMore: true, load: false  };\n  },\n  created() {\n    this.getData();\n  },\n  mounted() { //下拉更新\n    let drop = this.$refs.drop;\n    let initTop = drop.offsetTop; //距离父元素(body)的距离 40 px\n  \n    let distance=0\n    drop.addEventListener( \"touchstart\",  e => {\n      let startY = e.touches[0].pageY; //获取手指初始位置Y\n      let flag=false\n      let move = e => {\n        if (drop.scrollTop != 0 || drop.offsetTop != initTop) {\n          return;\n        }\n        let moveY = e.touches[0].pageY;  //手指移动时候的位置\n        distance = moveY - startY;  //手指移动的距离\n        flag=true\n\n        if (distance >= 0) {\n          if (distance>50) {\n            distance=50  //如果distance不设置为50,在没回到顶部手指抬起的时候,end中的distance是大于50的,盒子会在一瞬间跑到大于50的区域\n            drop.style.top=initTop+50+'px'\n          }else{\n            drop.style.top= initTop + distance + \"px\";\n          }\n        } else {\n          drop.removeEventListener('touchmove',move)\n          drop.removeEventListener('touchend',end)\n        }\n       \n      } \n      let end=e=>{\n        if(!flag) return  //在\n        clearInterval(this.timer)\n        this.timer=setInterval((e)=>{\n          if (distance<=0) {\n            clearInterval(this.timer)\n            drop.style.top=initTop+'px'\n            console.log('获取数据');\n            drop.removeEventListener('touchmove',move)\n            drop.removeEventListener('touchend',end)\n            this.books=[],this.hasMore=true,this.offset=0,this.getData()\n            return  //如果没有return 还会走一次下面的代码 ,每次小幅度上移\n          }\n          distance--\n          drop.style.top=initTop+distance+'px'\n        },1)\n        drop.removeEventListener('touchmove',move)\n            drop.removeEventListener('touchend',end)\n      }\n      drop.addEventListener(\"touchmove\", move, false);\n      drop.addEventListener('touchend',end,false)\n      }, false ); //为了绑定this为当前实例,使用箭头函数\n  },\n  methods: {\n    async getData() {\n      //\t(this.books = await getBooks()), (this.isLoading = false);\n      this.isLoading = false;\n      if (this.hasMore && !this.load) {\n        this.load = true;\n        let { books, hasMore } = await pagination(this.offset);\n        this.hasMore = hasMore;\n        this.books = [...this.books, ...books];\n        this.offset = this.books.length;\n        this.load = false;\n      }\n    },\n    loadMove() {\n      let { scrollTop, scrollHeight, clientHeight } = this.$refs.drop;\n      if (scrollTop + clientHeight + 20 > scrollHeight) {\n        this.getData();\n      }\n    },\n    remove(id) {\n      removeBook(id);\n      this.books = this.books.filter(item => item.bookId !== id);\n    },\n    ...mapMutations([Types.ADD_CART]),\n    add(book) {\n      this[Types.ADD_CART](book);\n    }\n  },\n  filters: {\n    toFixed(price, param) {\n      return \"￥\" + price.toFixed(param);\n    }\n  },\n  watch: {\n    $route() {\n      this.getData();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.loadMove {\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  font-size: 18px;\n  color: #bbb2b2;\n  font-weight: bold;\n}\nul {\n  h3 {\n    color: #908888;\n    padding: 10px;\n  }\n}\nul li {\n  padding: 10px;\n  img {\n    width: 120px;\n    height: 130px;\n  }\n  .list-data {\n    display: inline-block;\n    vertical-align: top;\n    width: calc(100% - 130px);\n    span {\n      font-size: 14px;\n      color: #827171;\n      margin: 10px 0;\n      display: inline-block;\n    }\n    strong {\n      font-size: 14px;\n      color: red;\n    }\n    i {\n      float: right;\n      margin: 8px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('storehead',{attrs:{\"flag\":true}},[_vm._v(\"列表\")]),_vm._v(\" \"),_c('div',{ref:\"drop\",staticClass:\"content\",on:{\"scroll\":_vm.loadMove}},[_c('ul',_vm._l((_vm.books),function(book,index){return _c('router-link',{key:index,attrs:{\"to\":{name:'detail',params:{bid:book.bookId}},\"tag\":\"li\"}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(book.bookCover),expression:\"book.bookCover\"}]}),_vm._v(\" \"),_c('div',{staticClass:\"list-data\"},[_c('h4',[_vm._v(_vm._s(book.bookName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(book.bookInfo))]),_c('br'),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"toFixed\")(book.bookPrice,2)))]),_c('br'),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shanchu\",on:{\"click\":function($event){$event.stopPropagation();_vm.remove(book.bookId)}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-shoucang\",on:{\"click\":function($event){$event.stopPropagation();_vm.add(book)}}})])])})),_vm._v(\" \"),_c('p',{staticClass:\"loadMove\",on:{\"click\":_vm.getData}},[_vm._v(\"加载更多\")]),_vm._v(\" \"),_c('loading',{attrs:{\"isLoading\":_vm.isLoading}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-94d0aa8e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-94d0aa8e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-94d0aa8e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-94d0aa8e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/list.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/loading-bar-scribble-animation-doodle-cartoon-4k_sdfqzybaux_thumbnail-full05.7ea0777.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/loading-bar-scribble-animation-doodle-cartoon-4k_sdfqzybaux_thumbnail-full05.png\n// module id = rQNc\n// module chunks = 1 2","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/assign.js\n// module id = woOf\n// module chunks = 1 3"],"sourceRoot":""}